<?php



function webspeech_tts_menu() {
  $items = array();
  $items['webspeech_tts'] = array(
    'title' => t('Webspeech TTS for Chrome'),
    'description' => t('Read Node Content Out Loud'),
    'type' => MENU_CALLBACK,
    'page callback' => 'webspeech_tts_form',
    //'page arguments' => array('webspeech_tts_form');
    //https://www.drupal.org/node/457782
    //'access arguments' => array('administer webspeech_tts'),
    'access callback' => TRUE,
  );

  return $items;

}


function webspeech_tts_form($form, &$form_state){
  drupal_set_message('hello');
 // drupal_add_js('sites/all/modules/custom/webspeech_tts/webspeech_tts.js', array('weight' => 100));
  $node = node_load(1);
  $node_content_to_js = $node->body['und'][0]['value'];
  drupal_set_message($node_content_to_js);
  drupal_add_js(array('webspeech_tts' => array('proof_of_concept' => $node_content_to_js)), 'setting');
  drupal_add_js('sites/all/modules/custom/webspeech_tts/webspeech_tts.js');

  drupal_set_message("foo" );

  print '<pre>';
 // var_dump(get_defined_vars());
  print '</pre>';


  drupal_set_message("made it to form");
  $form['submit_button'] = array(
      '#type' => 'submit',
      '#value' => t('Click Here!'),
      '#action' => url('#'),
      '#attributes' => array('onclick' => 'return (false);'),
      //'#disabled' => TRUE,
  );

  return $form;
}

function webspeech_tts_node_view($node, $view_mode) {
    drupal_set_message("You are viewing a node");
}


  